<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ljzsdut</title><link>https://note.ljzsdut.com/Linux%E5%9F%BA%E7%A1%80/PXE/</link><description>Recent content on ljzsdut</description><generator>Hugo -- gohugo.io</generator><atom:link href="https://note.ljzsdut.com/Linux%E5%9F%BA%E7%A1%80/PXE/index.xml" rel="self" type="application/rss+xml"/><item><title/><link>https://note.ljzsdut.com/Linux%E5%9F%BA%E7%A1%80/PXE/dnsmasq%E8%AF%A6%E8%A7%A3/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://note.ljzsdut.com/Linux%E5%9F%BA%E7%A1%80/PXE/dnsmasq%E8%AF%A6%E8%A7%A3/</guid><description>概述 dnsmasq同时实现了DHCP、TFTP、DNS三种服务器。
Dnsmasq为小型网络提供网络基础设施：DNS，DHCP，路由器通告和网络引导。它被设计为轻量级且占用空间小，适用于资源受限的路由器和防火墙。它还被广泛用于智能手机和便携式热点的共享，并支持虚拟化框架中的虚拟网络。支持的平台包括Linux（带有glibc和uclibc），Android，BSD和Mac OS X。Dnsmasq包含在大多数Linux发行版以及FreeBSD，OpenBSD和NetBSD的端口系统中。Dnsmasq提供完整的IPv6支持。
安装 apt install dnsmasq 在Ubunut系列上，如果启动报错53端口被占用。需要关闭ssytemd-resolved服务，然后重启dnsmasq服务：
systemctl stop systemd-resolved.service &amp;amp;&amp;amp; systemctl disable systemd-resolved.service systemctl enable --now dnsmasq.service 查看配置文件语法是否正确，可执行下列命令
[root@localhost ~]# dnsmasq -test dnsmasq: syntax check OK. 配置文件详解 /etc/dnsmasq.conf
# Configuration file for dnsmasq. # # Format is one option per line, legal options are the same # as the long options legal on the command line. See # &amp;#34;/usr/sbin/dnsmasq --help&amp;#34; or &amp;#34;man 8 dnsmasq&amp;#34; for details.</description></item><item><title/><link>https://note.ljzsdut.com/Linux%E5%9F%BA%E7%A1%80/PXE/pxe-dnsmasq/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://note.ljzsdut.com/Linux%E5%9F%BA%E7%A1%80/PXE/pxe-dnsmasq/</guid><description>pxe安装Ubuntu1804 安装dnsmasq和nginx nginx：HTTP服务器
dnsmasq：充当DNS、tftp、dhcp服务器
apt install -y nginx dnsmasq root@pxe:~# egrep -v &amp;#39;^#|^$&amp;#39; /etc/dnsmasq.conf server=114.114.114.144 dhcp-range=172.16.2.50,172.16.2.150,255.255.255.0,12h dhcp-boot=ubuntu/1804/x86_64/pxelinux.0 enable-tftp tftp-root=/var/ftpd log-queries log-dhcp 说明：
dhcp-range指定的范围要与部署dnsmasq的服务器处于一个网段中。
准备ubuntu kickstart配置文件 root@pxe:~# mkdir -pv /var/ftpd root@pxe:~# mkdir -pv /var/www/html/{ubuntu,centos}/{x86_64,aarch_64} root@pxe:~# mount ubuntu-18.04.5-server-amd64.iso /var/www/html/ubuntu/x86_64/ root@pxe:~# cat /var/www/html/ubuntu/ks.cfg #Generated by Kickstart Configurator #platform=AMD64 or Intel EM64T #System language lang en_US #Language modules to install langsupport en_US #System keyboard keyboard us #System mouse mouse #System timezone timezone Asia/Shanghai #Root password rootpw --iscrypted $1$randoma$h0gKBphJeu7P27YUe6rSU/ #Initial user user inspur --fullname &amp;#34;inspur&amp;#34; --iscrypted --password $1$randoma$h0gKBphJeu7P27YUe6rSU/ #Reboot after installation reboot #Use text mode install #text #Install OS instead of upgrade #install #Use Web installation url --url http://172.</description></item></channel></rss>