<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ljzsdut</title><link>https://note.ljzsdut.com/%E8%99%9A%E6%8B%9F%E5%8C%96/Openstack/01-openstack%E9%83%A8%E7%BD%B2/</link><description>Recent content on ljzsdut</description><generator>Hugo -- gohugo.io</generator><atom:link href="https://note.ljzsdut.com/%E8%99%9A%E6%8B%9F%E5%8C%96/Openstack/01-openstack%E9%83%A8%E7%BD%B2/index.xml" rel="self" type="application/rss+xml"/><item><title/><link>https://note.ljzsdut.com/%E8%99%9A%E6%8B%9F%E5%8C%96/Openstack/01-openstack%E9%83%A8%E7%BD%B2/00-packstack%E9%83%A8%E7%BD%B2OpenStack/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://note.ljzsdut.com/%E8%99%9A%E6%8B%9F%E5%8C%96/Openstack/01-openstack%E9%83%A8%E7%BD%B2/00-packstack%E9%83%A8%E7%BD%B2OpenStack/</guid><description>零、packstack部署 创建问题 查看相关服务 horizon访问 一、网络介绍 二、local网络 三、flat网络 0、概述 1、修改配置文件 2、创建ovs桥：br-eth1 3、创建网络和子网 4、创建虚机vm1 5、创建虚机vm2 6、说明：关于flat租户网络 VLAN Provider网络 1、 创建network 2、创建subnet 3、创建虚机，使用vlan网络 四、租户vlan网络+flat Provider网络 0、概述 1、配置文件 2、创建ovs桥：br-eth1 3、创建网络、子网、虚机（租户） 4、vlan路由器 5、vlan访问外网（flat类型） 5.1、配置文件 5.2、创建ovs桥：br-ex 5.3、创建外部网络、子网（管理员） 5.4、配置router的外部网关（租户） 5.5、分配Floating IP 五、vxlan网络 概述 配置文件 1、neutron-server配置核心插件 2、控制节点配置ML2 3、配置agent参数 创建VXLAN网络和虚机 vxlan路由器 vxlan访问外网（FIP） 1、设置外部网络配置文件 2、管理员身份创建外部网络（Flat网络） 3、设置router1的外部网关 4、分配Floating IP 六、网络命令行配置 创建provider网络及子网 创建租户网络和子网 创建floating IP fip创建、绑定、解绑 创建虚机 修改安全组rule 知识点 七、启用DVR 控制节点 网络节点 计算节点 qrouter+snat两个名称空间共同组成一个路由器 cirros优化 零、packstack部署 参考链接：https://blog.51cto.com/u_14210294/2385696
节点规划：
controller 内存&amp;gt;4G
network 内存&amp;gt;2G</description></item><item><title/><link>https://note.ljzsdut.com/%E8%99%9A%E6%8B%9F%E5%8C%96/Openstack/01-openstack%E9%83%A8%E7%BD%B2/01-openstack%E5%85%A5%E9%97%A8-horizon%E4%BD%BF%E7%94%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://note.ljzsdut.com/%E8%99%9A%E6%8B%9F%E5%8C%96/Openstack/01-openstack%E9%83%A8%E7%BD%B2/01-openstack%E5%85%A5%E9%97%A8-horizon%E4%BD%BF%E7%94%A8/</guid><description>openstack配置桥 #eth0 10.211.55.0/24 management管理网（可选） #eth1 10.37.129.0/24 data数据网络（overlay network），answer文件中主要配置该网络（hosts文件中也要配置该网络） #eth2 10.37.132.0/24 external外部网络（静态IP，packstack会修改network节点上配置文件，配置ovs-bridge上）（provider network） 在网络节点配置ovs桥
[root@controller ~]# cd /etc/sysconfig/network-scripts/ [root@controller network-scripts]# ll total 256 -rw-r--r--. 1 root root 364 Aug 8 17:47 ifcfg-eth0 -rw-r--r--. 1 root root 174 Aug 8 17:49 ifcfg-eth1 -rw-r--r--. 1 root root 174 Aug 8 17:50 ifcfg-eth2 -rw-r--r--. 1 root root 254 Aug 19 2019 ifcfg-lo ...... [root@controller network-scripts]# cat ifcfg-eth0 TYPE=Ethernet PROXY_METHOD=none BROWSER_ONLY=no BOOTPROTO=static DEFROUTE=yes IPV4_FAILURE_FATAL=no IPV6INIT=yes IPV6_AUTOCONF=yes IPV6_DEFROUTE=yes IPV6_FAILURE_FATAL=no IPV6_ADDR_GEN_MODE=stable-privacy NAME=eth0 #UUID=8b13e7d9-4b18-4d9c-b68e-c1cf1d156b62 DEVICE=eth0 ONBOOT=yes IPADDR=10.</description></item><item><title/><link>https://note.ljzsdut.com/%E8%99%9A%E6%8B%9F%E5%8C%96/Openstack/01-openstack%E9%83%A8%E7%BD%B2/02-devstack%E9%83%A8%E7%BD%B2/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://note.ljzsdut.com/%E8%99%9A%E6%8B%9F%E5%8C%96/Openstack/01-openstack%E9%83%A8%E7%BD%B2/02-devstack%E9%83%A8%E7%BD%B2/</guid><description>配置pip源 mkdir .pip cat &amp;gt; ~/.pip/pip.conf &amp;lt;&amp;lt;&amp;#34;EOF&amp;#34; [global] trusted-host = mirrors.aliyun.com index-url = https://mirrors.aliyun.com/pypi/simple EOF 配置apt源 cp -rf /etc/apt/sources.list{,.bak} cat &amp;gt;/etc/apt/sources.list&amp;lt;&amp;lt;&amp;#34;EOF&amp;#34; deb http://repo.huaweicloud.com/ubuntu/ bionic main restricted deb http://repo.huaweicloud.com/ubuntu/ bionic-updates main restricted deb http://repo.huaweicloud.com/ubuntu/ bionic universe deb http://repo.huaweicloud.com/ubuntu/ bionic-updates universe deb http://repo.huaweicloud.com/ubuntu/ bionic multiverse deb http://repo.huaweicloud.com/ubuntu/ bionic-updates multiverse deb http://repo.huaweicloud.com/ubuntu/ bionic-backports main restricted universe multiverse deb http://repo.huaweicloud.com/ubuntu bionic-security main restricted deb http://repo.huaweicloud.com/ubuntu bionic-security universe deb http://repo.huaweicloud.com/ubuntu bionic-security multiverse deb http://archive.ubuntu.com/ubuntu bionic universe EOF 下载代码 git clone http://git.</description></item><item><title/><link>https://note.ljzsdut.com/%E8%99%9A%E6%8B%9F%E5%8C%96/Openstack/01-openstack%E9%83%A8%E7%BD%B2/03-OpenStack-rocky%E6%89%8B%E5%8A%A8%E9%83%A8%E7%BD%B2/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://note.ljzsdut.com/%E8%99%9A%E6%8B%9F%E5%8C%96/Openstack/01-openstack%E9%83%A8%E7%BD%B2/03-OpenStack-rocky%E6%89%8B%E5%8A%A8%E9%83%A8%E7%BD%B2/</guid><description>准备 网卡配置 网卡配置：network节点也使用controller Controller eth0 10.211.55.46 #管理网 eth1 none # provider接口，不分配IP eth2 10.37.132.12 Compute eth0 10.211.55.47 #管理网 eth1 none eth2 10.37.132.13 [root@controller ~]# cat /etc/sysconfig/network-scripts/ifcfg-eth1 TYPE=Ethernet PROXY_METHOD=none BROWSER_ONLY=no BOOTPROTO=&amp;#34;none&amp;#34; DEFROUTE=yes IPV4_FAILURE_FATAL=no IPV6INIT=yes IPV6_AUTOCONF=yes IPV6_DEFROUTE=yes IPV6_FAILURE_FATAL=no IPV6_ADDR_GEN_MODE=stable-privacy NAME=eth1 DEVICE=eth1 ONBOOT=yes 关闭防火墙和selinux（所有节点） systemctl disable NetworkManager systemctl stop NetworkManager systemctl disable firewalld.service systemctl stop firewalld.service setenforce 0 配置OpenStack仓库源 cat &amp;gt; /etc/yum.repos.d/openstack-rocky.repo &amp;lt;&amp;lt;EOF [openstack] name=opentack baseurl=https://mirrors.aliyun.com/centos/7/cloud/x86_64/openstack-rocky/ gpgcheck=0 [Virt] name=CentOS-$releasever - Base baseurl=https://mirrors.aliyun.com/centos/7/virt/x86_64/kvm-common/ gpgcheck=0 gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7 EOF 时间同步 安装openstack客户端 yum install -y python-openstackclient 通用组件 MariaDB https://docs.</description></item></channel></rss>